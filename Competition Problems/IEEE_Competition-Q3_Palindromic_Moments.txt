Palindromic Moments

Problem Statement

This challenge is sponsored by Morgan Claypool Publishers.

Bob, Hannah, and Otto like to celebrate palindromic dates. A palindromic date is one in which the numbers in the date read the same forwards and backwards. They were very happy with 2015, which has 15 palindromic dates:

5th of January, October, November and December in day/month/year format: 5/1/15, 5/10/15, 5/11/15, 5/12/15

Eleven days in May listed in month/day/year format: 5/1/15 and 5/10/15 through 5/19/15

Note: These dates are palindromic in the sense that, if the forward slash delimiter (/) is disregarded, the numbers in the date read the same forwards and backwards.

While they wait to celebrate the next palindromic date on November 5th, they have decided to they would like to start celebrating palindromic moments. They define a palindromic moment as a palindromic string obtained by formatting a date-time combination using one of the following date prefixes and one of the following time suffixes:

Date prefix:

Combinations of month, day, year: Mdyy, MMdyy, Mddyy, MMddyy, Mdyyyy, MMdyyyy, Mddyyyy, MMddyyyy

Combinations of day, month, year: dMyy, dMMyy, ddMyy, ddMMyy, dMyyyy, dMMyyyy, ddMyyyy, ddMMyyyy

Time suffix:

Combinations of hour, minutes, seconds: hmmss, hhmmss, Hmmss, HHmmss

Where

M is the month of the year as a number, e.g. January = “1” and October = “10”

MM is the month of the year as a number with a leading zero if the month of the year is one digit long, e.g. January = “01” and October = “10”

d is the day of the month as a number, e.g. first = “1” and fifteenth = “15”

dd is the day of the month as a number with a leading zero if the day of the month is one digit long, e.g. first = “01” and fifteenth = “15”

yy is the last two digits of the year, e.g. 2000 = “00”, 12015 = “15”

yyyy is the complete year as a number, e.g. 512 = “512”, 2000 = “2000”, 12015 = “12015”

h is the hour in (AM/PM), e.g. 1 pm = “1”, 12 am = “12”

hh is the hour in (AM/PM) with a leading zero if the hour is one digit long, e.g. 1 pm = “01”, 12 am = “12”

H is the hour in the day, i.e. 0 <= H <= 23, e.g. 1 pm = “13”, 12 am = “0”

HH is the hour in the day with a leading zero if the hour is one digit long, e.g. 1 pm = “13”, 12 am = “00”

mm is the minute in the hour, 5 past the hour = “05”, 30 past the hour = “30”

ss is the second in the minute, 5 past the minute = “05”, 30 past the minute = “30”

For example, during this competition on October 24, 2015, there are four palindromic moments:

1:01:42 AM (using the dMyy prefix and the hmmss suffix): 24101510142

1:42:01 AM (using the Mdyy prefix and the hmmss suffix): 10241514201

1:01:42 PM (using the dMyy prefix and the hmmss suffix): 24101510142

1:42:01 PM (using the Mdyy prefix and the hmmss suffix): 10241514201

Note that for October 24, the MMddyy, Mddyy, and MMdyy prefixes are equivalent to the Mdyy prefix. Similarly for this date, the ddMMyy, ddMyy, and dMMyy prefixes are equivalent to the dMyy prefix.

Input Format

The input begins with an integer t, 1 <= t <= 20, on the first line, which indicates the number of test cases.

Following this, there are t test cases on separate lines, each containing a single integer Year, 10 <= Year <= 106.

Output Format

For each test case, you should output, on a line by itself, the number of palindromic moments that occur during the year given in the test case.

Notes:

We are interested in the total number of unique palindromic moments in a given year. If a moment is palindromic when using two or more different suffix/prefix combinations, this instance counts as a single palindromic moment. It should not be double counted.

For example, November 11, 2010 1:11:11 am is palindromic when combining the MMddyy prefix and Hmmss suffix or the MMddyy prefix with the HHmmss suffix. Even though these combinations form two different palindromes, 11111011111 and 111110011111, this should count as a single palindromic moment.

You must account for the different number of days in each month and for leap years. However, you should ignore leap seconds.

Sample Input

2
2015
2016
Sample Output

5626
3761
Explanation

Test Case 1

There are 5626 palindromic moments during 2015. For example, the following list shows the 36 palindromic moments on January 1, 2015:

12:51:11 AM (using the Mdyy prefix and the Hmmss suffix): 111505111

1:02:11 AM (using the Mdyyyy prefix and the hmmss suffix): 11201510211

1:10:10 AM (using the MMddyy prefix and the hmmss suffix): 01011511010

1:51:11 AM (using the Mdyy prefix and the hmmss suffix): 111515111

2:51:11 AM (using the Mdyy prefix and the hmmss suffix): 111525111

3:51:11 AM (using the Mdyy prefix and the hmmss suffix): 111535111

4:51:11 AM (using the Mdyy prefix and the hmmss suffix): 111545111

5:11:01 AM (using the Mddyy prefix and the hmmss suffix): 1011551101

5:11:10 AM (using the MMdyy prefix and the hmmss suffix): 0111551110

5:51:11 AM (using the Mdyy prefix and the hmmss suffix): 111555111

6:51:11 AM (using the Mdyy prefix and the hmmss suffix): 111565111

7:51:11 AM (using the Mdyy prefix and the hmmss suffix): 111575111

8:51:11 AM (using the Mdyy prefix and the hmmss suffix): 111585111

9:51:11 AM (using the Mdyy prefix and the hmmss suffix): 111595111

10:21:01 AM (using the Mddyyyy prefix and the hmmss suffix): 1012015102101

10:21:10 AM (using the MMdyyyy prefix and the hmmss suffix): 0112015102110

11:51:11 AM (using the Mdyy prefix and the hmmss suffix): 1115115111

1:02:11 PM (using the Mdyyyy prefix and the hmmss suffix): 11201510211

1:10:10 PM (using the MMddyy prefix and the hmmss suffix): 01011511010

1:51:11 PM (using the Mdyy prefix and the hmmss suffix): 111515111

2:51:11 PM (using the Mdyy prefix and the hmmss suffix): 111525111

3:11:01 PM (using the Mddyy prefix and the Hmmss suffix): 10115151101

3:11:10 PM (using the MMdyy prefix and the Hmmss suffix): 01115151110

3:51:11 PM (using the Mdyy prefix and the hmmss suffix): 111535111

4:51:11 PM (using the Mdyy prefix and the hmmss suffix): 111545111

5:11:01 PM (using the Mddyy prefix and the hmmss suffix): 1011551101

5:11:10 PM (using the MMdyy prefix and the hmmss suffix): 0111551110

5:51:11 PM (using the Mdyy prefix and the hmmss suffix): 111555111

6:51:11 PM (using the Mdyy prefix and the hmmss suffix): 111565111

7:51:11 PM (using the Mdyy prefix and the hmmss suffix): 111575111

8:51:11 PM (using the Mdyy prefix and the hmmss suffix): 111585111

9:51:11 PM (using the Mdyy prefix and the hmmss suffix): 111595111

10:21:01 PM (using the Mddyyyy prefix and the hmmss suffix): 1012015102101

10:21:10 PM (using the MMdyyyy prefix and the hmmss suffix): 0112015102110

10:51:11 PM (using the Mdyy prefix and the Hmmss suffix): 1115225111

11:51:11 PM (using the Mdyy prefix and the hmmss suffix): 1115115111

In a similar way we may calculate the remaining palindromic moments for the rest of 2015, resulting in the reported overall sum of 5626 unique palindromic moments for the year.

Test Case 2

There are 3761 palindromic moments during 2016.



